### **AOP (Aspect Oriented Programming) 관점지향 프로그래밍 개념**

프로젝트안에서 비즈니스로직 내부에 존재하는 보안 인증, DB연결, 트랜잭션과 같은 부가기능이 반복적으로 나타난다. 이러한 부가기능들을 공통 모듈로 따로 구현하여 공통 모듈로 따로 구현하여 비즈니스 로직안에 삽입하는 것을 말한다. 스프링 DI가 의존성(new)에 대한 주입이라면 스프링 AOP는 로직 주입이라고 할 수 있다.

---

### **AOP 구성요소**

**Advice(어드바이스)**: **프록시 로직.** 공통기능에  해당하는 보안인증, DB연결, 트랜잭션과 같은 관심사를 구현한 코드. PointCut에 적용할 메서드. 

**Pointcut(포인트 컷)**: **필터링 로직.** 어디에 부가기능을 적용할지, 어디에 부가기능을 적용하지 않을지 정하는 필터링 로직. 특정 조건에 의해 필터링 된 Joinpoint, 수많은 Joinpoint 중에 특정 메소드에서만 공통기능을 수행시키기 위해 사용된다. PointCut은 JoinPoint의 부분집합이라고 볼 수 있다.

**Advisor(어드바이저)**: 단순하게 하나의 포인트컷과 하나의 어드바이스를 가지고 있는 것이다. 쉽게
이야기해서 **포인트컷1 + 어드바이스1**이다.

**Joinpoint(조인포인트)**: Advice를 적용 가능한 지점을 의미. (매서드 호출, 필드 값 변경 등, 스프링은 프록시를 이용해 AOP를 구현하기 때문에 메소드에 대한 Joinpoint만 지원) 타겟 객체가 구현한 인터페이스의 모든 메서드는 JoinPoint가 된다.

**Target(타겟)**: Advice를 적용할 대상 클래스.

- 조언(`Advice`)을 어디(`Pointcut`)에 할 것인가.
- 조언자(`Advisor`)는 어디(`Pointcut`)에 조언(`Advice`)을 해야할지 알고 있다.
- 포인트컷은 대상 여부를 확인하는 필터 역할만 담당한다.
- 어드바이스는 깔끔하게 부가 기능 로직만 담당한다.
- 둘을 합치면 어드바이저가 된다. 스프링의 어드바이저는 하나의 포인트컷 + 하나의 어드바이스로 구성된다.

<br/>

**(중요)** 스프링에서 AOP 적용 수 만큼 프록시가 생성된다고 착각할 수 있는데 사실은 그렇지 않다.

- 스프링은 AOP를 적용할 때, 최적화를 진행해서 지금처럼 프록시는 하나만 만들고, 하나의 프록시에 여러
    
    어드바이저를 적용한다.
    
- 정리하면 하나의 target 에 여러 AOP가 동시에 적용되어도, 스프링의 AOP는 target 마다 하나의
    
    프록시만 생성한다.